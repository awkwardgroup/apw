function apwAuthenticateWidget(){if("client-settings-new"==$("#client-select").val())var a=$("#client-settings-new-id").val(),b=$("#client-settings-new-secret").val();else var a=$("#client-settings-default-id").val(),b=$("#client-settings-default-secret").val();var c=$("#redirect-uri").val()+"?client_details="+a+":"+b;location.href="https://api.instagram.com/oauth/authorize/?client_id="+a+"&redirect_uri="+c+"&response_type=code"}function apwGenerateJSON(){var a=$("#widget-select").val(),b=$("#access-token").val();if("widget-settings-user"==a)var c=$("#widget-settings-user-id").val(),d="&"+$("#widget-settings-user-parameter").val(),e="https://api.instagram.com/v1/users/"+c+"/media/recent?access_token="+b+d;else if("widget-settings-tag"==a)var f=$("#widget-settings-tag-key").val(),g="&"+$("#widget-settings-tag-parameter").val(),e="https://api.instagram.com/v1/tags/"+f+"/media/recent?access_token="+b+g;$("#generated-widget").fadeIn(500,function(){var a=$("code.embed").html();a=a.replace("INSERT_JSON_LINK",e),$("code.embed").html(a)});var h=$("#generated-widget");h=h.length?h:$("[name="+this.hash.slice(1)+"]"),h.length&&$("html,body").animate({scrollTop:h.offset().top-30},1e3),$("#widget-json-link").text(e),apwGenerateWidget(e)}function apwGenerateWidget(a){var b=jQuery.ajax({type:"GET",dataType:"jsonp",url:a});b.done(function(a){var b=[];jQuery.each(a.data,function(a,c){var d="";"undefined"!=typeof c.caption.text&&(d=c.caption.text);var e='<li id="image-'+c.id+'">';e+='<a href="'+c.link+'" target="_blank" title="'+d+'">',e+='<img src="'+c.images.low_resolution.url+'" alt="'+d+'" />',""!==d&&(e+="<p>"+d+"</p>"),e+="</a></li>",b.push(e)}),jQuery(".apw-list").html(""),jQuery(".apw-list").append(b.join(""))})}$(document).ready(function(){$("#client-select").change(function(){var a=$(this).val();$(".client-settings").hide(),$("#"+a).show()}),$("#widget-select").change(function(){var a=$(this).val();$(".widget-settings").hide(),$("#"+a).show()}),apwGenerateWidget("https://api.instagram.com/v1/tags/wc2014/media/recent?access_token=7844502.fcb74b7.1ec5839ceb1142e3aea84585a0440cdf&count=8")});